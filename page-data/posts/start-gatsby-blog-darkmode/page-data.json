{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/start-gatsby-blog-darkmode","result":{"data":{"markdownRemark":{"id":"8ba499d7-3129-5568-a4bd-4ba843819b02","html":"<h1 id=\"はじめに\" style=\"position:relative;\"><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\" aria-label=\"はじめに permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>はじめに</h1>\n<p>この記事は<a href=\"https://www.gatsbyjs.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Gatsby</a>というヘッドレスCMS技術で構成されています。今回は「エンジニア初心者でもできる」を前提に以下の構成で記事を作成していこうと思います。</p>\n<ul>\n<li><a href=\"https://tech-blog.yoshikiohashi.dev/posts/start-gatsby-blog/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Gatsby始めるまで</a></li>\n<li><a href=\"https://tech-blog.yoshikiohashi.dev/posts/start-gatsby-blog-share/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">GatsbyにShare機能、OGPタグをつける</a></li>\n<li><a href=\"https://tech-blog.yoshikiohashi.dev/posts/start-gatsby-blog-add-tags\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">タグ機能、カテゴリ機能をつける（基礎編）</a></li>\n<li><a href=\"https://tech-blog.yoshikiohashi.dev/posts/start-gatsby-blog-add-tags-application\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">タグ機能、カテゴリ機能をつける（応用編）</a></li>\n<li><a href=\"https://tech-blog.yoshikiohashi.dev/posts/start-gatsby-blog-tableofcontent\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">GatsbyにTableOfContents（目次）をつける</a></li>\n<li><a href=\"https://tech-blog.yoshikiohashi.dev/posts/start-gatsby-blog-darkmode\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">DarkModeをつける</a>（本記事）</li>\n</ul>\n<h1 id=\"内容\" style=\"position:relative;\"><a href=\"#%E5%86%85%E5%AE%B9\" aria-label=\"内容 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>内容</h1>\n<p>DarkModeかっこいいですよね。私は大抵のアプリのテーマをDarkModeにして使用しています。みなさんはどうでしょうか？目にも良くて簡単におしゃれになるDarkModeをブログに取り入れてみましょう！</p>\n<p>こんな内容になっています。</p>\n<ul>\n<li>GatsbyのPluginで適用する</li>\n<li>素のCSSを使った方法</li>\n<li>SCSSでも適用できる方法</li>\n</ul>\n<h2 id=\"gatsbyのpluginで適用する\" style=\"position:relative;\"><a href=\"#gatsby%E3%81%AEplugin%E3%81%A7%E9%81%A9%E7%94%A8%E3%81%99%E3%82%8B\" aria-label=\"gatsbyのpluginで適用する permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GatsbyのPluginで適用する</h2>\n<p>これが一番手っ取り早いかもしれません。</p>\n<h3 id=\"gatsby-plugin-dark-modeをインストール\" style=\"position:relative;\"><a href=\"#gatsby-plugin-dark-mode%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\" aria-label=\"gatsby plugin dark modeをインストール permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>gatsby-plugin-dark-modeをインストール</h3>\n<p><code class=\"language-text\">yarn add gatsby-plugin-dark-mode</code></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// gatsby-config.js</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'gatsby-plugin-dark-mode'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"使い方\" style=\"position:relative;\"><a href=\"#%E4%BD%BF%E3%81%84%E6%96%B9\" aria-label=\"使い方 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>使い方</h3>\n<p><code class=\"language-text\">ThemeToggler</code>をImportしたコンポーネントを作成します。</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> ThemeToggler <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'gatsby-plugin-dark-mode'</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">MyComponent</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span>ThemeToggler<span class=\"token operator\">></span>\n        <span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> theme<span class=\"token punctuation\">,</span> toggleTheme <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n          <span class=\"token operator\">&lt;</span>label<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>input\n              type<span class=\"token operator\">=</span><span class=\"token string\">\"checkbox\"</span>\n              onChange<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token parameter\">e</span> <span class=\"token operator\">=></span> <span class=\"token function\">toggleTheme</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>checked <span class=\"token operator\">?</span> <span class=\"token string\">'dark'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'light'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n              checked<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>theme <span class=\"token operator\">===</span> <span class=\"token string\">'dark'</span><span class=\"token punctuation\">}</span>\n            <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span><span class=\"token string\">' '</span><span class=\"token punctuation\">}</span>\n            Dark mode\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>label<span class=\"token operator\">></span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ThemeToggler<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>このPluginはLocalStorageでDarkかそれ以外かを判断しているみたいです。</p>\n<h3 id=\"globalcssを修正する\" style=\"position:relative;\"><a href=\"#globalcss%E3%82%92%E4%BF%AE%E6%AD%A3%E3%81%99%E3%82%8B\" aria-label=\"globalcssを修正する permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>global.cssを修正する</h3>\n<p>global.cssがない場合は、bodyタグでメインカラーを制御しているファイルを見つけて以下のように修正しましょう。</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token comment\">/* global.css */</span>\n\n<span class=\"token selector\">body</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">--bg</span><span class=\"token punctuation\">:</span> white<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">--textNormal</span><span class=\"token punctuation\">:</span> #222<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">--textTitle</span><span class=\"token punctuation\">:</span> #222<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">--textLink</span><span class=\"token punctuation\">:</span> blue<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">--hr</span><span class=\"token punctuation\">:</span> <span class=\"token function\">hsla</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">,</span> 0%<span class=\"token punctuation\">,</span> 0%<span class=\"token punctuation\">,</span> 0.2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> <span class=\"token function\">var</span><span class=\"token punctuation\">(</span>--bg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">body.dark</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">-webkit-font-smoothing</span><span class=\"token punctuation\">:</span> antialiased<span class=\"token punctuation\">;</span>\n\n  <span class=\"token property\">--bg</span><span class=\"token punctuation\">:</span> darkslategray<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">--textNormal</span><span class=\"token punctuation\">:</span> <span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span>255<span class=\"token punctuation\">,</span> 255<span class=\"token punctuation\">,</span> 255<span class=\"token punctuation\">,</span> 0.88<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">--textTitle</span><span class=\"token punctuation\">:</span> white<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">--textLink</span><span class=\"token punctuation\">:</span> yellow<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">--hr</span><span class=\"token punctuation\">:</span> <span class=\"token function\">hsla</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">,</span> 0%<span class=\"token punctuation\">,</span> 100%<span class=\"token punctuation\">,</span> 0.2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"layoutjsを修正する\" style=\"position:relative;\"><a href=\"#layoutjs%E3%82%92%E4%BF%AE%E6%AD%A3%E3%81%99%E3%82%8B\" aria-label=\"layoutjsを修正する permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Layout.jsを修正する</h3>\n<p>CSSまで適用させたらあとはその変数を使用するだけです。Layout.jsを変更しましょう。</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Layout</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span>div\n        style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\n          backgroundColor<span class=\"token operator\">:</span> <span class=\"token string\">'var(--bg)'</span><span class=\"token punctuation\">,</span>\n          color<span class=\"token operator\">:</span> <span class=\"token string\">'var(--textNormal)'</span><span class=\"token punctuation\">,</span>\n          transition<span class=\"token operator\">:</span> <span class=\"token string\">'color 0.2s ease-out, background 0.2s ease-out'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n      <span class=\"token operator\">></span>\n        <span class=\"token operator\">...</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"素のcssを使った方法\" style=\"position:relative;\"><a href=\"#%E7%B4%A0%E3%81%AEcss%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%9F%E6%96%B9%E6%B3%95\" aria-label=\"素のcssを使った方法 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>素のCSSを使った方法</h2>\n<p>この方法は動的にCSSを変更できませんが、ユーザデバイスの設定に応じてテーマを変えることができます。</p>\n<p>メリットとしては「<strong>素のCSSで構成されている</strong>, <strong>コストが低いのでとりあえず導入したい</strong>」になります。</p>\n<h2 id=\"cssの変更\" style=\"position:relative;\"><a href=\"#css%E3%81%AE%E5%A4%89%E6%9B%B4\" aria-label=\"cssの変更 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>cssの変更</h2>\n<p>まずは皆さんのプロジェクトの<strong>bodyタグ</strong>もしくは<strong>root：</strong>に設定されてるCSSを確認してください。</p>\n<p>確認ができたら以下のCSSを加えていきましょう。</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token punctuation\">(</span><span class=\"token property\">prefers-color-scheme</span><span class=\"token punctuation\">:</span> light<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">--theme-base</span><span class=\"token punctuation\">:</span> white<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">--theme-font</span><span class=\"token punctuation\">:</span> black<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">--theme-accent</span><span class=\"token punctuation\">:</span> red<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token punctuation\">(</span><span class=\"token property\">prefers-color-scheme</span><span class=\"token punctuation\">:</span> dark<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">--theme-base</span><span class=\"token punctuation\">:</span> black<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">--theme-font</span><span class=\"token punctuation\">:</span> white<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">--theme-accent</span><span class=\"token punctuation\">:</span> pink<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">body</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> <span class=\"token function\">var</span><span class=\"token punctuation\">(</span>--them-base<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> <span class=\"token function\">var</span><span class=\"token punctuation\">(</span>--them-font<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<p>prefers-color-scheme は CSS のメディア特性で、ユーザーがシステムに要求したカラーテーマが明色か暗色かを検出するために使用します。</p>\n</blockquote>\n<p>とのことなので各デバイスの設定状況によって<strong>prefers-color-scheme</strong>の設定値が変わるということですね。ユーザデバイスに準拠するのでこのCSSだけでは手動で変更できませんが、最低限の対応としては良いと思います。</p>\n<h2 id=\"ieは。。。\" style=\"position:relative;\"><a href=\"#ie%E3%81%AF%E3%80%82%E3%80%82%E3%80%82\" aria-label=\"ieは。。。 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>IEは。。。</h2>\n<p>やはりかというべきかIEは非対応とのことなのであしからず。。。というか無視しましょう！ｗ</p>\n<p><img src=\"https://ucarecdn.com/5b43e3ec-9378-4cbc-ae60-15823b718789/\"></p>\n<h2 id=\"scssでも適用できる方法\" style=\"position:relative;\"><a href=\"#scss%E3%81%A7%E3%82%82%E9%81%A9%E7%94%A8%E3%81%A7%E3%81%8D%E3%82%8B%E6%96%B9%E6%B3%95\" aria-label=\"scssでも適用できる方法 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SCSSでも適用できる方法</h2>\n<p>先程のCSS変数を使用した応用になります。CSS変数をSCSS変数にラップしてあげればいいです。</p>\n<div class=\"gatsby-highlight\" data-language=\"scss\"><pre class=\"language-scss\"><code class=\"language-scss\"><span class=\"token comment\">// variables.scss</span>\n<span class=\"token selector\">:root</span><span class=\"token punctuation\">{</span>\n  <span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token punctuation\">(</span><span class=\"token property\">prefers-color-scheme</span><span class=\"token punctuation\">:</span> light<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">--color-base</span><span class=\"token punctuation\">:</span> #222<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">--color-primary</span><span class=\"token punctuation\">:</span> #5D93FF<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">--color-secondary</span><span class=\"token punctuation\">:</span> #F7A046<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">--color_background-base</span><span class=\"token punctuation\">:</span> #FFF<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token punctuation\">(</span><span class=\"token property\">prefers-color-scheme</span><span class=\"token punctuation\">:</span> dark<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">--color-base</span><span class=\"token punctuation\">:</span> #FFF<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">--color-primary</span><span class=\"token punctuation\">:</span> #5D93FF<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">--color-secondary</span><span class=\"token punctuation\">:</span> #F7A046<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">--color_background-base</span><span class=\"token punctuation\">:</span> #282828<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token punctuation\">(</span><span class=\"token property\">prefers-color-scheme</span><span class=\"token punctuation\">:</span> no-preference<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">--color-base</span><span class=\"token punctuation\">:</span> #FFF<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">--color-primary</span><span class=\"token punctuation\">:</span> #5D93FF<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">--color-secondary</span><span class=\"token punctuation\">:</span> #F7A046<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">--color_background-base</span><span class=\"token punctuation\">:</span> #282828<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token property\"><span class=\"token variable\">$color-base</span></span><span class=\"token punctuation\">:</span> <span class=\"token function\">var</span><span class=\"token punctuation\">(</span>--color-base<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token property\"><span class=\"token variable\">$color-primary</span></span><span class=\"token punctuation\">:</span> <span class=\"token function\">var</span><span class=\"token punctuation\">(</span>--color-primary<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token property\"><span class=\"token variable\">$color-secondary</span></span><span class=\"token punctuation\">:</span> <span class=\"token function\">var</span><span class=\"token punctuation\">(</span>--color-secondary<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token property\"><span class=\"token variable\">$color_background-base</span></span><span class=\"token punctuation\">:</span> <span class=\"token function\">var</span><span class=\"token punctuation\">(</span>--color_background-base<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"やってみた\" style=\"position:relative;\"><a href=\"#%E3%82%84%E3%81%A3%E3%81%A6%E3%81%BF%E3%81%9F\" aria-label=\"やってみた permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>やってみた</h2>\n<h3 id=\"macがdarkmodeのとき\" style=\"position:relative;\"><a href=\"#mac%E3%81%8Cdarkmode%E3%81%AE%E3%81%A8%E3%81%8D\" aria-label=\"macがdarkmodeのとき permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>MacがDarkModeのとき</h3>\n<p><img src=\"https://ucarecdn.com/f6f0029e-46f3-4054-80f9-f19befd15e1b/\"></p>\n<h3 id=\"macがlightmodeのとき\" style=\"position:relative;\"><a href=\"#mac%E3%81%8Clightmode%E3%81%AE%E3%81%A8%E3%81%8D\" aria-label=\"macがlightmodeのとき permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>MacがLightModeのとき</h3>\n<p><img src=\"https://ucarecdn.com/426f281b-167e-4dcd-8229-b20c513358e7/\"></p>\n<h1 id=\"まとめ\" style=\"position:relative;\"><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\" aria-label=\"まとめ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>まとめ</h1>\n<p>いかがでしたでしょうか。今回Gatsbyに限らず一般のCSSでも使用できる方法も合わせて紹介しました。状況に応じて必要なのを低コストで実現できると時間も取られないので良いですね！</p>\n<p>一旦Gatsby特集は終わりますが、ちょいちょい自分でカスタマイズしていく予定なのでその度にご紹介できればと思います〜。それではまた。</p>\n<h2 id=\"参考\" style=\"position:relative;\"><a href=\"#%E5%8F%82%E8%80%83\" aria-label=\"参考 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>参考</h2>\n<ul>\n<li><a href=\"https://www.gatsbyjs.org/packages/gatsby-plugin-dark-mode/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">gatsby-plugin-dark-mode</a></li>\n<li><a href=\"https://developer.mozilla.org/ja/docs/Web/CSS/@media/prefers-color-scheme\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">prefers-color-scheme</a></li>\n<li><a href=\"https://qiita.com/psephopaikes/items/d1d8f19b8a77d3ee3810\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Webのダークモード対応をSCSS変数で管理する方法を考える</a></li>\n</ul>","fields":{"slug":"/posts/start-gatsby-blog-darkmode","tagSlugs":["/tags/css/","/tags/gatsby/","/tags/dark-mode/"]},"frontmatter":{"date":"2020-05-29T21:36:43.318Z","updatedDate":null,"tags":["CSS","Gatsby","DarkMode"],"title":"DarkModeのCSSを適用させる","socialImage":"https://ucarecdn.com/d9ce6002-b211-4d44-a60d-c2dab5f15db6/","category":"Programming"},"excerpt":"はじめに この記事はGatsbyというヘッドレスCMS技術で構成されています。今回は「エンジニア初心者でもできる」を前提に以下の構成で記事を作成していこうと思います。 Gatsby始めるまで GatsbyにShare機能、OGPタグをつける タグ機能、カテゴリ機能をつける（基礎…","tableOfContents":"<ul>\n<li><a href=\"/posts/start-gatsby-blog-darkmode/#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\">はじめに</a></li>\n<li>\n<p><a href=\"/posts/start-gatsby-blog-darkmode/#%E5%86%85%E5%AE%B9\">内容</a></p>\n<ul>\n<li>\n<p><a href=\"/posts/start-gatsby-blog-darkmode/#gatsby%E3%81%AEplugin%E3%81%A7%E9%81%A9%E7%94%A8%E3%81%99%E3%82%8B\">GatsbyのPluginで適用する</a></p>\n<ul>\n<li><a href=\"/posts/start-gatsby-blog-darkmode/#gatsby-plugin-dark-mode%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\">gatsby-plugin-dark-modeをインストール</a></li>\n<li><a href=\"/posts/start-gatsby-blog-darkmode/#%E4%BD%BF%E3%81%84%E6%96%B9\">使い方</a></li>\n<li><a href=\"/posts/start-gatsby-blog-darkmode/#globalcss%E3%82%92%E4%BF%AE%E6%AD%A3%E3%81%99%E3%82%8B\">global.cssを修正する</a></li>\n<li><a href=\"/posts/start-gatsby-blog-darkmode/#layoutjs%E3%82%92%E4%BF%AE%E6%AD%A3%E3%81%99%E3%82%8B\">Layout.jsを修正する</a></li>\n</ul>\n</li>\n<li><a href=\"/posts/start-gatsby-blog-darkmode/#%E7%B4%A0%E3%81%AEcss%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%9F%E6%96%B9%E6%B3%95\">素のCSSを使った方法</a></li>\n<li><a href=\"/posts/start-gatsby-blog-darkmode/#css%E3%81%AE%E5%A4%89%E6%9B%B4\">cssの変更</a></li>\n<li><a href=\"/posts/start-gatsby-blog-darkmode/#ie%E3%81%AF%E3%80%82%E3%80%82%E3%80%82\">IEは。。。</a></li>\n<li><a href=\"/posts/start-gatsby-blog-darkmode/#scss%E3%81%A7%E3%82%82%E9%81%A9%E7%94%A8%E3%81%A7%E3%81%8D%E3%82%8B%E6%96%B9%E6%B3%95\">SCSSでも適用できる方法</a></li>\n<li>\n<p><a href=\"/posts/start-gatsby-blog-darkmode/#%E3%82%84%E3%81%A3%E3%81%A6%E3%81%BF%E3%81%9F\">やってみた</a></p>\n<ul>\n<li><a href=\"/posts/start-gatsby-blog-darkmode/#mac%E3%81%8Cdarkmode%E3%81%AE%E3%81%A8%E3%81%8D\">MacがDarkModeのとき</a></li>\n<li><a href=\"/posts/start-gatsby-blog-darkmode/#mac%E3%81%8Clightmode%E3%81%AE%E3%81%A8%E3%81%8D\">MacがLightModeのとき</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"/posts/start-gatsby-blog-darkmode/#%E3%81%BE%E3%81%A8%E3%82%81\">まとめ</a></p>\n<ul>\n<li><a href=\"/posts/start-gatsby-blog-darkmode/#%E5%8F%82%E8%80%83\">参考</a></li>\n</ul>\n</li>\n</ul>"}},"pageContext":{"slug":"/posts/start-gatsby-blog-darkmode"}},"staticQueryHashes":["1552397463","1669302033","3314088506","401334301","554596625","82304099"]}